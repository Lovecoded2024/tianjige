(()=>{var e={};e.id=181,e.ids=[181],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3977:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(5191),t(1373),t(5866);var s=t(3191),i=t(8716),r=t(7922),n=t.n(r),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let c=["",{children:["[locale]",{children:["master",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5191)),"/Users/superalexbase/.openclaw/workspace/tianjige/app/[locale]/master/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1373)),"/Users/superalexbase/.openclaw/workspace/tianjige/app/[locale]/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/superalexbase/.openclaw/workspace/tianjige/app/[locale]/master/page.tsx"],p="/[locale]/master/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/[locale]/master/page",pathname:"/[locale]/master",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5113:(e,a,t)=>{Promise.resolve().then(t.bind(t,7113))},7113:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var s=t(326),i=t(7577),r=t(3844),n=t(1572),l=t(6557);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var c=t(9730),d=t(9635);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,l.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var m=t(772),x=t(7863),u=t(58),y=t(8129);function h(){let e=(0,r.useTranslations)(),[a,t]=(0,i.useState)([]),[l,h]=(0,i.useState)(""),[g,f]=(0,i.useState)(!1),j=(0,i.useRef)(null),v=async()=>{if(!l.trim()||g)return;let e={id:Date.now().toString(),role:"user",content:l,timestamp:new Date};t(a=>[...a,e]),h(""),f(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,history:a.map(e=>({role:e.role,content:e.content}))})});if(!e.ok)throw Error("Failed to get response");let s=await e.json(),i={id:(Date.now()+1).toString(),role:"assistant",content:s.message,timestamp:new Date};t(e=>[...e,i])}catch(a){console.error("Error:",a);let e={id:(Date.now()+1).toString(),role:"assistant",content:"施主，贫僧正在闭关修炼，稍后为您解惑。",timestamp:new Date};t(a=>[...a,e])}finally{f(!1)}},w={id:"welcome",role:"assistant",content:"施主，贫僧在此恭候多时。\n\n天机阁汇聚五千年智慧，能为您推演命理、答疑解惑。\n\n有何困惑，尽管道来。",timestamp:new Date},b={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:20}}};return(0,s.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)] gradient-bg",children:[s.jsx(u.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"border-b border-foreground/[0.06] bg-card/50 backdrop-blur-xl flex-shrink-0",children:s.jsx("div",{className:"container-custom py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(u.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(u.E.div,{animate:{boxShadow:["0 0 20px rgba(139, 92, 246, 0.3)","0 0 40px rgba(139, 92, 246, 0.5)","0 0 20px rgba(139, 92, 246, 0.3)"]},transition:{duration:2,repeat:1/0},className:"w-12 h-12 rounded-full glass-card flex items-center justify-center",children:s.jsx(n.Z,{className:"w-6 h-6 text-primary"})}),s.jsx(u.E.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-green-500 ring-2 ring-card"})]}),(0,s.jsxs)("div",{children:[s.jsx(u.E.h1,{initial:{opacity:0},animate:{opacity:1},className:"text-lg font-semibold",children:"天机阁大师"}),s.jsx(u.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-xs text-muted-foreground",children:"AI智能 \xb7 随时在线 \xb7 精通易经"})]})]}),s.jsx(u.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsxs)(m.z,{variant:"outline",size:"sm",onClick:()=>t([w]),className:"border-white/20",children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),e("master.newChat")]})})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:(0,s.jsxs)("div",{className:"container-custom max-w-4xl",children:[0===a.length&&(0,s.jsxs)(u.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx(u.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"w-24 h-24 mb-8 rounded-full glass-card flex items-center justify-center",children:s.jsx(c.Z,{className:"w-12 h-12 text-primary"})}),s.jsx(u.E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-3xl font-bold mb-4",children:s.jsx("span",{className:"text-gradient",children:e("master.title")})}),s.jsx(u.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-muted-foreground max-w-md mb-8",children:e("master.subtitle")}),s.jsx(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-wrap justify-center gap-3",children:[e("master.suggestions.wealth"),e("master.suggestions.fortune"),e("master.suggestions.career"),e("master.suggestions.love")].map((e,a)=>s.jsx(u.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(e),className:"px-4 py-2 rounded-full glass-card text-sm text-primary hover:bg-primary/10 transition-colors",children:e},a))})]}),s.jsx(y.M,{children:a.map(e=>(0,s.jsxs)(u.E.div,{variants:b,initial:"hidden",animate:"visible",exit:{opacity:0,y:-20},className:(0,x.cn)("flex space-x-4 mb-6","user"===e.role&&"flex-row-reverse"),children:[s.jsx(u.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:(0,x.cn)("w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0","assistant"===e.role?"glass-card":"bg-gradient-to-br from-primary/30 to-purple-600/30"),children:"assistant"===e.role?s.jsx(n.Z,{className:"w-5 h-5 text-primary"}):s.jsx(d.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)(u.E.div,{initial:{opacity:0,x:"user"===e.role?20:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:(0,x.cn)("max-w-[75%] rounded-2xl p-5","assistant"===e.role?"glass-card rounded-tl-sm":"bg-gradient-to-br from-primary to-purple-600 text-white rounded-tr-sm"),children:[s.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:e.content.split("\n").map((e,a)=>s.jsx(u.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a},children:e},a))}),s.jsx(u.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:(0,x.cn)("mt-3 text-xs","user"===e.role?"text-white/60":"text-muted-foreground"),children:e.timestamp.toLocaleTimeString()})]})]},e.id))}),g&&(0,s.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full glass-card flex items-center justify-center flex-shrink-0",children:s.jsx(n.Z,{className:"w-5 h-5 text-primary"})}),s.jsx("div",{className:"flex items-center space-x-2 glass-card rounded-xl px-5 py-4",children:[0,1,2].map(e=>s.jsx(u.E.div,{animate:{y:[0,-8,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:.2*e},className:"w-2.5 h-2.5 rounded-full bg-primary"},e))})]}),s.jsx("div",{ref:j})]})}),s.jsx(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-t border-white/10 bg-card/50 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"container-custom py-4",children:[(0,s.jsxs)("div",{className:"relative flex items-end space-x-4",children:[s.jsx(u.E.div,{whileFocus:{scale:1.01},className:"flex-1",children:s.jsx("textarea",{value:l,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},placeholder:e("master.placeholder"),rows:1,className:"input-field resize-none pr-14"})}),s.jsx(u.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(m.z,{onClick:v,disabled:!l.trim()||g,className:"h-12 w-12 rounded-full btn-primary flex-shrink-0",children:s.jsx(p,{className:"w-5 h-5"})})})]}),s.jsx(u.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-3 text-center text-xs text-muted-foreground",children:"基于 MiniMax AI 模型 \xb7 仅供娱乐参考"})]})})]})}},9730:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(6557).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},9635:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5191:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});var s=t(8570);let i=(0,s.createProxy)(String.raw`/Users/superalexbase/.openclaw/workspace/tianjige/app/[locale]/master/page.tsx`),{__esModule:r,$$typeof:n}=i;i.default;let l=(0,s.createProxy)(String.raw`/Users/superalexbase/.openclaw/workspace/tianjige/app/[locale]/master/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,49,189,957],()=>t(3977));module.exports=s})();