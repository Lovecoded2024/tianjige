(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{5264:function(e,t,a){Promise.resolve().then(a.bind(a,5665))},5665:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var i=a(7437),n=a(2265),r=a(9343),s=a(1014),l=a(537),o=a(7138),c=a(8087),d=a(3907),m=a(7583),u=a(2022),x=a(2671),y=a(933),f=a(495),h=a(7440),p=a(1521),g=a(1513),b=a(4446);let v=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],j=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],N={甲:"木",乙:"木",丙:"火",丁:"火",戊:"土",己:"土",庚:"金",辛:"金",壬:"水",癸:"水",子:"水",丑:"土",寅:"木",卯:"木",辰:"土",巳:"火",午:"火",未:"土",申:"金",酉:"金",戌:"土",亥:"水"},w={子:"鼠",丑:"牛",寅:"虎",卯:"兔",辰:"龙",巳:"蛇",午:"马",未:"羊",申:"猴",酉:"鸡",戌:"狗",亥:"猪"},E={木:"土",土:"水",水:"火",火:"金",金:"木"},z=l.Ry({name:l.Z_().min(1,"nameRequired"),year:l.Rx().min(1900).max(2100),month:l.Rx().min(1).max(12),day:l.Rx().min(1).max(31),hour:l.Rx().min(0).max(23),gender:l.Km(["male","female"]).optional()});function P(){let e=(0,c.useTranslations)();(0,p.tv)();let t=(0,p.jD)(),a=(null==t?void 0:t.split("/")[1])||"zh",[l,P]=(0,n.useState)(!1),[k,A]=(0,n.useState)(!1),[T,G]=(0,n.useState)(null),{handleSubmit:Z,register:R,formState:{errors:C}}=(0,r.cI)({resolver:(0,s.F)(z),defaultValues:{name:"",year:1990,month:1,day:1,hour:12,gender:void 0}}),S=async e=>{P(!0),await new Promise(e=>setTimeout(e,2e3));let t=function(e,t,a,i){let n=v[(e-4)%10],r=j[(e-4)%12],s=j[[0,11,0,1,2,3,4,5,6,7,8,9,10][t]],l=v[((e-4)%10*2+(t-1))%10],o=new Date(2024,0,1),c=Math.floor((new Date(e,t-1,a).getTime()-o.getTime())/864e5),d=v[(60+c)%10],m=j[(60+c)%12],u=j[Math.floor(i/2)%12];return{yearPillar:{tiangan:n,dizhi:r},monthPillar:{tiangan:l,dizhi:s},dayPillar:{tiangan:d,dizhi:m},timePillar:{tiangan:v[((e-4)%10*2+Math.floor(i/2))%10],dizhi:u}}}(e.year,e.month,e.day,e.hour),a=function(e){let t={木:0,火:0,土:0,金:0,水:0};for(let a of[e.yearPillar,e.monthPillar,e.dayPillar,e.timePillar])t[N[a.tiangan]]++,t[N[a.dizhi]]++;return t}(t),i=function(e){let t=Object.entries(e).sort((e,t)=>t[1]-e[1]).map(e=>{let[t,a]=e;return{element:t,count:a}}),a=t[0].element,i=t[t.length-1].element,n=E[a];return{strongElement:a,weakElement:i,usefulGod:i,outputGod:n}}(a),n={木:[{name:"绿幽灵",nameEn:"Green Phantom",type:"水晶",benefit:"招财进宝，事业攀升"},{name:"青金石",nameEn:"Lapis Lazuli",type:"水晶",benefit:"增强直觉，提升贵人运"},{name:"橄榄石",nameEn:"Peridot",type:"水晶",benefit:"带来希望，好运连连"}],火:[{name:"南红玛瑙",nameEn:"Red Agate",type:"玛瑙",benefit:"鸿运当头，财运旺盛"},{name:"红珊瑚",nameEn:"Red Coral",type:"有机宝石",benefit:"热情活力，人缘极佳"},{name:"朱砂",nameEn:"Cinnabar",type:"矿物",benefit:"辟邪化煞，护身保平安"}],土:[{name:"蜜蜡",nameEn:"Amber",type:"有机宝石",benefit:"温润养生，提升整体运势"},{name:"黄玉",nameEn:"Topaz",type:"宝石",benefit:"增强自信，吸引财富"},{name:"翡翠",nameEn:"Jade",type:"玉石",benefit:"辟邪挡灾，平安吉祥"}],金:[{name:"白水晶",nameEn:"Clear Quartz",type:"水晶",benefit:"净化磁场，提升专注力"},{name:"月光石",nameEn:"Moonstone",type:"宝石",benefit:"柔化磁场，提升魅力"},{name:"黑曜石",nameEn:"Obsidian",type:"火山玻璃",benefit:"辟邪化煞，挡小人"}],水:[{name:"海蓝宝",nameEn:"Aquamarine",type:"宝石",benefit:"智慧之源，提升表达能力"},{name:"托帕石",nameEn:"Topaz",type:"宝石",benefit:"增强自信，吸引正桃花"},{name:"天河石",nameEn:"Amazonite",type:"矿石",benefit:"消除压力，带来平静"}]}[i.usefulGod];G({bazi:t,wuxing:a,god:i,materials:n}),P(!1),setTimeout(()=>A(!0),500)},_={木:"text-green-400",火:"text-red-400",土:"text-yellow-400",金:"text-gray-300",水:"text-blue-400"},D={木:"bg-gradient-to-r from-green-500 to-emerald-400",火:"bg-gradient-to-r from-red-500 to-orange-400",土:"bg-gradient-to-r from-yellow-500 to-amber-400",金:"bg-gradient-to-r from-gray-400 to-slate-300",水:"bg-gradient-to-r from-blue-500 to-cyan-400"},M=[{key:"yearPillar",label:e("fortune.report.bazi.year")},{key:"monthPillar",label:e("fortune.report.bazi.month")},{key:"dayPillar",label:e("fortune.report.bazi.day")},{key:"timePillar",label:e("fortune.report.bazi.time")}];if(k&&T){var O;return(0,i.jsx)("div",{className:"min-h-screen py-12",children:(0,i.jsxs)("div",{className:"container px-4",children:[(0,i.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:(0,i.jsxs)(f.z,{variant:"ghost",onClick:()=>A(!1),className:"text-mystic-400 hover:text-mystic-300",children:["← ",e("nav.fortune")]})}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12 text-center",children:[(0,i.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-mystic-500/20 to-gold-500/20",children:(0,i.jsx)(d.Z,{className:"h-10 w-10 text-mystic-400"})}),(0,i.jsx)("h1",{className:"mb-4 text-4xl font-bold gradient-text",children:e("fortune.report.title")}),(0,i.jsx)(g.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-lg text-muted-foreground",children:(O=T.bazi,"".concat(O.yearPillar.tiangan).concat(O.yearPillar.dizhi,"年 ").concat(O.monthPillar.tiangan).concat(O.monthPillar.dizhi,"月 ").concat(O.dayPillar.tiangan).concat(O.dayPillar.dizhi,"日 ").concat(O.timePillar.tiangan).concat(O.timePillar.dizhi,"时"))})]}),(0,i.jsx)(g.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-12 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:M.map((e,t)=>{let a=T.bazi[e.key];return(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+.1*t},whileHover:{y:-5,scale:1.02},className:"pillar-card relative overflow-hidden rounded-2xl border border-mystic-500/30 bg-gradient-to-br from-card to-mystic-500/5 p-6 text-center",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-mystic-500/5 to-transparent"}),(0,i.jsx)("p",{className:"relative mb-4 text-sm text-muted-foreground",children:e.label}),(0,i.jsxs)("div",{className:"relative space-y-3",children:[(0,i.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6+.1*t,type:"spring"},className:"text-4xl font-bold text-mystic-400",children:a.tiangan}),(0,i.jsxs)(g.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7+.1*t,type:"spring"},className:"text-3xl",children:[a.dizhi,(0,i.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:["(",w[a.dizhi],")"]})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8+.1*t},className:"text-sm text-muted-foreground",children:[N[a.tiangan],N[a.dizhi]]})]})]},e.key)})}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.9},className:"grid gap-8 lg:grid-cols-2",children:[(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1},className:"relative overflow-hidden rounded-2xl border border-mystic-500/30 bg-gradient-to-br from-card to-mystic-500/5 p-8",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-mystic-500/5 to-transparent"}),(0,i.jsx)("h2",{className:"relative mb-8 text-2xl font-bold",children:e("fortune.report.wuxing.title")}),(0,i.jsx)("div",{className:"relative space-y-6",children:Object.entries(T.wuxing).map((t,a)=>{let[n,r]=t;return(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1+.1*a},className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{className:(0,h.cn)("font-medium",_[n]),children:e("fortune.report.wuxing.".concat(n.toLowerCase()))}),(0,i.jsxs)("span",{className:"text-muted-foreground",children:[r,"个"]})]}),(0,i.jsx)("div",{className:"h-4 overflow-hidden rounded-full bg-muted/50",children:(0,i.jsx)(g.E.div,{initial:{width:0},animate:{width:"".concat(r/8*100,"%")},transition:{duration:1,delay:1.2+.1*a},className:(0,h.cn)("h-full rounded-full",D[n])})})]},n)})})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:1.1},className:"space-y-6",children:[(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-green-500/10 to-emerald-500/10 p-6",children:[(0,i.jsx)("div",{className:"absolute -right-8 -top-8 h-24 w-24 rounded-full bg-green-500/20 blur-3xl"}),(0,i.jsx)("p",{className:"relative mb-2 text-sm text-muted-foreground",children:"您的喜用神"}),(0,i.jsxs)("p",{className:"relative text-3xl font-bold text-green-400",children:[T.god.usefulGod,"（",N[T.god.usefulGod[0]],"）"]}),(0,i.jsxs)("p",{className:"relative mt-2 text-sm text-muted-foreground",children:["您的八字中",T.god.weakElement,"较弱，",T.god.usefulGod,"能补充您的能量"]})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3},className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-red-500/10 to-orange-500/10 p-6",children:[(0,i.jsx)("div",{className:"absolute -right-8 -top-8 h-24 w-24 rounded-full bg-red-500/20 blur-3xl"}),(0,i.jsx)("p",{className:"relative mb-2 text-sm text-muted-foreground",children:"您的忌神"}),(0,i.jsxs)("p",{className:"relative text-3xl font-bold text-red-400",children:[T.god.outputGod,"（",N[T.god.outputGod[0]],"）"]}),(0,i.jsxs)("p",{className:"relative mt-2 text-sm text-muted-foreground",children:["建议避免过多接触",T.god.outputGod,"属性的物品"]})]})]})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},className:"mt-12 grid gap-4 sm:grid-cols-2",children:[(0,i.jsx)(g.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,i.jsx)(o.default,{href:"/".concat(a,"/artifacts?god=").concat(T.god.usefulGod),children:(0,i.jsxs)(f.z,{size:"lg",variant:"mystic",className:"w-full py-6 text-lg",children:[(0,i.jsx)(d.Z,{className:"mr-2 h-5 w-5"}),e("fortune.artifacts.view")]})})}),(0,i.jsx)(g.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,i.jsx)(o.default,{href:"/".concat(a,"/master"),children:(0,i.jsxs)(f.z,{size:"lg",variant:"outline",className:"w-full border-mystic-500/30 py-6 text-lg",children:[(0,i.jsx)(m.Z,{className:"mr-2 h-5 w-5"}),e("fortune.master.button")]})})})]})]})})}return(0,i.jsx)("div",{className:"min-h-screen py-12",children:(0,i.jsx)("div",{className:"container px-4",children:(0,i.jsxs)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mx-auto max-w-2xl",children:[(0,i.jsxs)(g.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-12 text-center",children:[(0,i.jsx)(g.E.div,{animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-mystic-500/20 to-gold-500/20",children:(0,i.jsx)(d.Z,{className:"h-10 w-10 text-mystic-400"})}),(0,i.jsx)("h1",{className:"mb-4 text-4xl font-bold gradient-text",children:e("fortune.title")}),(0,i.jsx)("p",{className:"text-muted-foreground",children:e("fortune.subtitle")})]}),(0,i.jsxs)(g.E.form,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:Z(S),className:"space-y-8",children:[(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-2",children:[(0,i.jsxs)("label",{className:"flex items-center text-sm font-medium",children:[(0,i.jsx)(u.Z,{className:"mr-2 h-4 w-4 text-mystic-400"}),e("fortune.form.name")]}),(0,i.jsx)("input",{...R("name"),placeholder:e("fortune.form.namePlaceholder"),className:"w-full rounded-xl border border-mystic-500/30 bg-card/50 px-4 py-4 text-foreground placeholder:text-muted-foreground focus:border-mystic-500 focus:outline-none focus:ring-2 focus:ring-mystic-500/20 transition-all"}),C.name&&(0,i.jsx)(g.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-red-400",children:C.name.message})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"grid gap-4 sm:grid-cols-3",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("label",{className:"flex items-center text-sm font-medium",children:[(0,i.jsx)(x.Z,{className:"mr-2 h-4 w-4 text-mystic-400"}),e("fortune.form.birthDate")]}),(0,i.jsx)("select",{...R("year",{valueAsNumber:!0}),className:"w-full rounded-xl border border-mystic-500/30 bg-card/50 px-4 py-4 focus:border-mystic-500 focus:outline-none",children:Array.from({length:124},(e,t)=>1900+t).map(e=>(0,i.jsxs)("option",{value:e,children:[e,"年"]},e))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"\xa0"}),(0,i.jsx)("select",{...R("month",{valueAsNumber:!0}),className:"w-full rounded-xl border border-mystic-500/30 bg-card/50 px-4 py-4 focus:border-mystic-500 focus:outline-none",children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,i.jsxs)("option",{value:e,children:[e,"月"]},e))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"\xa0"}),(0,i.jsx)("select",{...R("day",{valueAsNumber:!0}),className:"w-full rounded-xl border border-mystic-500/30 bg-card/50 px-4 py-4 focus:border-mystic-500 focus:outline-none",children:Array.from({length:31},(e,t)=>t+1).map(e=>(0,i.jsxs)("option",{value:e,children:[e,"日"]},e))})]})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"space-y-2",children:[(0,i.jsxs)("label",{className:"flex items-center text-sm font-medium",children:[(0,i.jsx)(y.Z,{className:"mr-2 h-4 w-4 text-mystic-400"}),e("fortune.form.birthTime")]}),(0,i.jsx)("select",{...R("hour",{valueAsNumber:!0}),className:"w-full rounded-xl border border-mystic-500/30 bg-card/50 px-4 py-4 focus:border-mystic-500 focus:outline-none",children:Array.from({length:24},(e,t)=>t).map(e=>(0,i.jsxs)("option",{value:e,children:[e.toString().padStart(2,"0"),":00"]},e))})]}),(0,i.jsxs)(g.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:e("fortune.form.gender")}),(0,i.jsxs)("div",{className:"flex space-x-6",children:[(0,i.jsxs)("label",{className:"flex cursor-pointer items-center space-x-2",children:[(0,i.jsx)("input",{type:"radio",...R("gender"),value:"male",className:"h-4 w-4 text-mystic-500"}),(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"mr-1",children:"♂"})," ",e("fortune.form.male")]})]}),(0,i.jsxs)("label",{className:"flex cursor-pointer items-center space-x-2",children:[(0,i.jsx)("input",{type:"radio",...R("gender"),value:"female",className:"h-4 w-4 text-mystic-500"}),(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"mr-1",children:"♀"})," ",e("fortune.form.female")]})]})]})]}),(0,i.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,i.jsx)(f.z,{type:"submit",size:"lg",variant:"mystic",disabled:l,className:"w-full py-6 text-lg",children:l?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(g.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-2 h-5 w-5 rounded-full border-2 border-white/30 border-t-white"}),e("fortune.form.calculating")]}):(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.Z,{className:"mr-2 h-5 w-5"}),e("fortune.form.calculate")]})})})]}),(0,i.jsx)(b.M,{children:l&&(0,i.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,i.jsxs)(g.E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"text-center",children:[(0,i.jsx)(g.E.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1,repeat:1/0}},className:"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-mystic-500/20 to-gold-500/20",children:(0,i.jsx)(d.Z,{className:"h-12 w-12 text-mystic-400"})}),(0,i.jsx)("p",{className:"text-xl font-medium text-mystic-400",children:e("fortune.form.calculating")}),(0,i.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"大师正在推演您的命理..."})]})})})]})})})}},1521:function(e,t,a){"use strict";a.d(t,{jD:function(){return r},tv:function(){return s}});let{Link:i,redirect:n,usePathname:r,useRouter:s}=(0,a(5758).iV)({locales:["en","zh","ja","ko"]})},495:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var i=a(7437),n=a(2265),r=a(1538),s=a(3027),l=a(7440);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",mystic:"bg-mystic-600 text-white hover:bg-mystic-700 glow"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:s,asChild:c=!1,...d}=e,m=c?r.g7:"button";return(0,i.jsx)(m,{className:(0,l.cn)(o({variant:n,size:s,className:a})),ref:t,...d})});c.displayName="Button"},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var i=a(4839),n=a(6164);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,i.W)(t))}}},function(e){e.O(0,[779,513,138,822,971,23,744],function(){return e(e.s=5264)}),_N_E=e.O()}]);